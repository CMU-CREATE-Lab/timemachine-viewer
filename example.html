<!DOCTYPE html>
<html>
  <head>
    <link href="css/timelapse.css" rel="stylesheet" type="text/css"/>
    <link href="css/snaplapse.css" rel="stylesheet" type="text/css"/>
    <link href="css/jquery-ui/smoothness/jquery-ui.custom.css" rel="stylesheet" type="text/css"/>
    <link href="css/player.css" rel="stylesheet" type="text/css"/>
    <link href="css/smallGoogleMap.css" rel="stylesheet" type="text/css"/>
    <link href="css/scaleBar.css" rel="stylesheet" type="text/css"/>
    <link href="css/customTimeline.css" rel="stylesheet" type="text/css"/>

    <script src="js/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="js/jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
    <script src="js/jquery/plugins/mouse/jquery.mousewheel.min.js" type="text/javascript"></script>
    <script src="js/org/gigapan/util.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/videoset.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/timelapse.js" type="text/javascript"></script>
    <script src="js/Math.uuid.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/snaplapse.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/snaplapseViewer.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/timelapseViewer.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/mercator.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/scaleBar.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/smallGoogleMap.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/customTimeline.js" type="text/javascript"></script>
    <script src="js/org/gigapan/postmessage.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/crossdomain_api.js" type="text/javascript"></script>
    <script src="template_includes.js" type="text/javascript"></script>
    <script src="http://earthengine.google.org/timelapse/data/ajax_includes.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/urlEncoder.js" type="text/javascript"></script>
    <script src="https://maps.google.com/maps/api/js?sensor=false&libraries=places" type="text/javascript"></script>

    <script type="text/javascript">
      var timelapse;
      //var url = "http://earthengine.google.org/timelapse/data/Americas_30m_10fps/";
      //var url = "http://earthengine.google.org/timelapse/data";
      var url = "https://earthengine.google.org/timelapse/data/20130507/";

      function init() {
        var initialView = null;
        var initialTime = 0;

        //for landsat video
        var myHomeView = {
          x: 729344.2273860758,
          y: 532074.0959715188,
          scale: 0.0005840897249061237
        };

        var viewerOptions = {
          url: url, //can be absolute or relative
          initialTime: initialTime, // default to 0; in video time
          loopPlayback: true, // defaults to false
          initialView: initialView, // see above for possible views to use
          playOnLoad: false, // defaults to false
          playbackSpeed: 1, // [-1,-.5,-.25,.25,.5,1] available, defaults to 1
          showShareBtn: true, // defaults to true
          showZoomControls: true, // defaults to true
          showMainControls: false, // defaults to true
          showHomeBtn: false, // defaults to true
          enableCustomTimeline: true, // defaults to false
          doChromeSeekableHack: true, // defaults to true
          doChromeBufferedHack: true, // defaults to true
          composerDiv: "composer1", //display the time warp composer; display nothing if param left out
          loopDwell: {
            "startDwell": 0.5,
            "endDwell": 0.5
          },
          viewportGeometry: {
            width: 1122,
            height: 632
          },
          scaleBarOptions: {
            scaleBarDiv: "scaleBar1",
            geometry: {
              barLength: 113, // defaults to 110, min value = 110
              offsetX: 0, // defaults to 0
              offsetY: 60 // defaults to 0
            }
          }, // display scale bar; display nothing if param left out
          smallGoogleMapOptions: {
            smallGoogleMapDiv: "smallGoogleMap1",
            resizable: true, // defaults to true
            position: "top-right", // default to top-right, can also choose bottom-right
            geometry: {
              width: 160, // defaults to 135, (min ,max) value = (135, 600)
              height: 120, // defaults to 110, (min ,max) value = (110, 400)
              offsetX: 20, // defaults to 0
              offsetY: 20 // defaults to 0
            }
          }, // display small google map; display nothing if param left out
          newHomeView: myHomeView //override the home view
        };

        timelapse = new org.gigapan.timelapse.Timelapse("earthTimePlayer", viewerOptions);
        setupPostMessageHandlers();
      }

      function onTimeMachinePlayerReady(viewerDivId) {
        // Load a tour
        //var tour = "CGB0PA7tfmBY5J5gBSite%20One%21_BAA7tfmBY5J5gB_B0PZxfzm9pnt-dSite%20Two%21_BAZxfzm9pnt-d_B0PV-_GjKc3j5gBSite%203%21_BAV-_GjKc3j5gB_Untitled_B"
        //var snaplapse = timelapse.getSnaplapse();
        //var snaplapseViewer = snaplapse.getSnaplapseViewer();
        //var tourJSON = snaplapse.urlStringToJSON(tour);
        //snaplapseViewer.loadNewSnaplapse(tourJSON);
      }

      $(init);

    </script>

  </head>
  <body style="overflow: hidden;">
    <div id="earthTimePlayer"></div>
  </body>
</html>
