<html>
  <head>
    <script src="jquery.js"></script>
    <script src="jQuery_mousewheel_plugin.js"></script>
    <script src="timelapse.js"></script>
    <script src="videoset.js"></script>

    <script>
      function ready() {
        //  timelapse_load('http://timelapse.gigapan.org/timelapses/visible-human-female-512-3mm/', 'timelapse', 'timelapse_status');
        timelapse_load('../timelapses/brassica1-15m-halfsize/', 'timelapse', 'timelapse_status', {"tile_height":256,"height":3876,"fps":25,"frames":2438,"width":9856,"tile_width":256});
      }
      function keypress() {
        log('keypress');
      }
      $(document).ready(ready);
      $(document).keydown(timelapse_handle_keydown);
      $(document).keyup(timelapse_handle_keyup);
	  $(window).mousewheel(timelapse_handle_mousescroll);
    </script>
  </head>
  <body>

    <div style="width:800px; height:450px">
      <div id="timelapse" style="position: absolute; width:800px; height:450px; background:#060; overflow:hidden">
      </div>
    </div>
    <div id="timelapse_status"></div>

	<script>
	  $("#timelapse").mousedown(function(e) {

	    //start pos
		var start_x = e.pageX;
		var start_y = e.pageY;
		//end pos
		var end_x = 0;
		var end_y = 0;

		$(document).mousemove(function(e) {
		  //distance moved
		  end_x = e.pageX - start_x;
		  end_y = e.pageY - start_y;
		  //timelapse_handle_mousemove(end_x, end_y);
		  return false;
		});

		$(document).one('mouseup', function() {
		  timelapse_handle_mousemove(end_x, end_y);
		  $(document).unbind('mousemove');
		});

		return false;
	  });

	  $("#timelapse").dblclick(timelapse_handle_double_click);
	</script>

    <input type="button" value="play" onclick="timelapse_play()">
    <input type="button" value="pause" onclick="timelapse_pause()">
    <input type="button" value="reset" onclick="timelapse_pause(); timelapse_seek(0)">
    <input type="button" value="home" onclick="timelapse_warp_to(timelapse_home_view())">
    <input type="button" value="seek 20" onclick="timelapse_seek(20)">
    <input type="button" value="seek 40" onclick="timelapse_seek(40)">
    <input type="button" value="seek 60" onclick="timelapse_seek(60)">
    <input type="button" value="seek 80" onclick="timelapse_seek(80)">
<br>Debug:
    <input type="checkbox" onclick="videoset_log_status(this.value)">Log video status
    <input type="checkbox" onclick="videoset_enable_native_video_controls(this.value)">Show Native Video Controls
  </body>
</html>
