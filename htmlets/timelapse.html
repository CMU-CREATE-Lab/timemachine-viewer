<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

		<link href="../timelapse/css/timelapse.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/snaplapse.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/jquery-ui/smoothness/jquery-ui.custom.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/player.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/smallGoogleMap.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/scaleBar.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/visualizer.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/annotator.css" rel="stylesheet" type="text/css"/>
		<link href="../timelapse/css/customUI.css" rel="stylesheet" type="text/css"/>
		<script src="../timelapse/js/jquery/jquery.min.js" type="text/javascript"></script>
		<script src="../timelapse/js/jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
		<script src="../timelapse/js/jquery/plugins/mouse/jquery.mousewheel.min.js" type="text/javascript"></script>
		<script src="../timelapse/js/jquery/plugins/carousel/jcarousellite.min.js" type="text/javascript"></script>
		<script src="../timelapse/js/kinetic/kinetic.min.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/util.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/videoset.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/timelapse.js" type="text/javascript"></script>
		<script src="../timelapse/js/Math.uuid.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/snaplapse.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/snaplapseViewer.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/mercator.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/scaleBar.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/smallGoogleMap.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/visualizer.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/annotator.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/customUI.js" type="text/javascript"></script>
		<script src="../timelapse/js/org/gigapan/timelapse/defaultUI.js" type="text/javascript"></script>
    		<script src="../timelapse/js/org/gigapan/timelapse/urlEncoder.js" type="text/javascript"></script>


    		<style type="text/css">
      		  .captureTimeMain {font-weight:bold;}
      		  #player, #container, #player1{
        	    display:block !important;
                    height:348px !important;
                    width:514px !important;
                    position:fixed !important;
                    cursor: url("../timelapse/css/cursors/openhand.cur";
                    top:110px !important;
                    left:34px; }
		  .tiledContentHolder {cursor: url("../timelapse/css/cursors/openhand.cur"), move}
                </style>

		<script type="text/javascript">
			jQuery.support.cors = true;
			
			timelapseMetadata = JSON.parse($("#timelapse_metadata").text());

        		url = "http://g7.gigapan.org/timemachines/" + timelapseMetadata["id"];
        
			function init() {
				var myView = null;
				var myTime = 0;

				var viewerOptions = {
					url: url, //can be absolute or relative
					initialTime: myTime, //default to 0; in video time
					loopPlayback: timelapseMetadata["repeat"], //defaults to false
					initialView: myView, //see above for possible views to use
					playOnLoad: false, //defaults to false
					playbackSpeed: 1, //[-1,-.5,-.25,.25,.5,1] available, defaults to 1
					//layer: 0, //defaults to first layer. All sets have at least 1 layer starting at index 0
					//showShareBtn: false, //defaults to true
					showFullScreenBtn: false, //display the fullscreen button or not, defaults to true
					//showSizeBtn: true, //display the fullscreen button or not, defaults to false
					//showZoomControls: false, //defaults to true
					//showPanControls: false, //defaults to true
					//showMainControls: false, //defaults to true
					//showHomeBtn: false, //defaults to true
					//viewerType: "canvas", // video or canvas, defaults to whatever the
					mediaType: ".mp4",
					//blackFrameDetection: true, //defaults to false
					loopDwell: {
					  startDwell: 0.5, //defaults to 0
					  endDwell: 0.5 //defaults to 0
					},
                                        composerDiv: "composer1", //display the time warp composer; display nothing if param left out
          				skippedFramesAtStart: 0,
          				skippedFramesAtEnd: 0,
					visualizerScale: 1, //defaults to 1
					viewportGeometry: {
						width: 816, //defaults to the size in tm.json, the default min value is 816, 1068
						height: 468, //defaults to the size in tm.json, the default min value is 468, 600
						//ratio: 1.78 //will try to maintain the ratio (width/height) when both the values of width and height are all "max" or numbers
					}
				};
				if (timelapseMetadata && !timelapseMetadata['forceMP4']) delete viewerOptions["mediaType"];

				timelapse = new org.gigapan.timelapse.Timelapse("player1", viewerOptions);
			}

			


			function onTimeMachinePlayerReady(viewerDivId) {

			}

			$(init);
		</script>
	</head>
	<body>
		<div id="player1" style="position: absolute;"></div>
    	
	</body>
</html>